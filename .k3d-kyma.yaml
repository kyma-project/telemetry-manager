---
apiVersion: k3d.io/v1alpha5
kind: Simple
metadata:
  name: kyma
image: europe-docker.pkg.dev/kyma-project/prod/external/rancher/k3s:v1.32.8-k3s1 # refers to the image used by k3d

servers: 1
agents: 0
kubeAPI:
  hostPort: "6550"

options:
  k3s:
    extraArgs:
      - arg: "--disable=traefik"
        nodeFilters:
          - server:*
      - arg: "--flannel-backend=none"
        nodeFilters:
          - server:*
      - arg: "--disable-network-policy"
        nodeFilters:
          - server:*
      - arg: "--cluster-cidr=192.168.0.0/16"
        nodeFilters:
          - server:*
    nodeLabels:
      - label: topology.kubernetes.io/region=kyma-local
        nodeFilters:
          - server:*
      - label: topology.kubernetes.io/zone=kyma-local
        nodeFilters:
          - server:*
      - label: node.kubernetes.io/instance-type=local
        nodeFilters:
          - server:*
