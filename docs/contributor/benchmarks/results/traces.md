# Test Results: Traces

## Overview

The expected throughput for the TracePipeline receiver on the receiver side is ~20K spans/sec for the single-pipeline scenario and ~13K spans/sec for the multi-pipeline scenario. Exported data should be 3 times the received spans. The backpressure scenarios should return the exporter queue size as ~512, for both single- and multi-pipeline scenarios; and the TracePipeline instances should not crash.
On average, memory usage for TracePipeline instances is ~150MB for a single Pod, and CPU usage is ~1.0 for non-backpressure scenarios.
In backpressure scenarios, the behaviour is different: The expected CPU usage should be less than in non-backpressure scenarios, because less data is processed and exported compared to non-backpressure scenarios. The expected memory usage is significantly higher than in non-backpressure scenarios.
> **NOTE:** The figures above are the minimum acceptable values. You should always compare your measured results with the previous execution from the table to check for performance degradations, typically indicated by higher CPU or memory usage, lower throughput, or higher queue size.
> The test execution is automated. If the test results aren't as expected, you should re-execute the test to confirm the results.

## Results

|       Version/Test | Single-Pipeline (ci-traces) |                             |                     |                      |               | Multi-Pipeline (ci-traces-m) |                             |                     |                      |               | Single-Pipeline Backpressure (ci-traces-b) |                             |                     |                      |               | Multi-Pipeline Backpressure (ci-traces-mb) |                             |                     |                      |               |
|-------------------:|:---------------------------:|:---------------------------:|:-------------------:|:--------------------:|:-------------:|:----------------------------:|:---------------------------:|:-------------------:|:--------------------:|:-------------:|:------------------------------------------:|:---------------------------:|:-------------------:|:--------------------:|:-------------:|:------------------------------------------:|:---------------------------:|:-------------------:|:--------------------:|:-------------:|
|                    | Receiver Accepted Spans/sec | Exporter Exported Spans/sec | Exporter Queue Size | Pod Memory Usage(MB) | Pod CPU Usage | Receiver Accepted Spans/sec  | Exporter Exported Spans/sec | Exporter Queue Size | Pod Memory Usage(MB) | Pod CPU Usage |        Receiver Accepted Spans/sec         | Exporter Exported Spans/sec | Exporter Queue Size | Pod Memory Usage(MB) | Pod CPU Usage |        Receiver Accepted Spans/sec         | Exporter Exported Spans/sec | Exporter Queue Size | Pod Memory Usage(MB) | Pod CPU Usage |
|               0.91 |            19815            |            19815            |          0          |       137, 139       |     1, 1      |            13158             |            38929            |          0          |       117, 98        |   1.3, 1.3    |                    9574                    |            1280             |         509         |      1929, 1726      |   0.7, 0.7    |                    9663                    |            1331             |         510         |      2029, 1686      |   0.7, 0.7    |
|               0.92 |            21146            |            21146            |          0          |        72, 50        |     1, 1      |            12757             |            38212            |          0          |       90, 111        |   1.3, 1.1    |                    3293                    |            2918             |         204         |       866, 873       |   0.6, 0.6    |                    9694                    |            1399             |         510         |      1730, 1796      |   0.7, 0.7    |
|               0.93 |            19708            |            19708            |          0          |        69, 62        |     1, 1      |            12355             |            37068            |          0          |       158, 140       |   1.5, 1.2    |                    319                     |             324             |         237         |      874, 1106       |    0.1, 0     |                    8209                    |             865             |         510         |      1755, 1650      |   0.4, 0.4    |
|               0.94 |            19933            |            19934            |          0          |       110, 76        |     1, 1      |            13083             |            39248            |          0          |       94, 152        |   1.2, 1.4    |                    299                     |             299             |         214         |      1003, 808       |    0.1, 0     |                    8644                    |             916             |         169         |      1578, 1706      |   0.5, 0.5    |
|               0.95 |            20652            |            20652            |          0          |       133, 76        |    1, 0.8     |            13449             |            40350            |          0          |       150, 111       |   1.3, 1.4    |                    330                     |             328             |         239         |      931, 1112       |     0, 0      |                    8259                    |             929             |         170         |      1693, 1611      |   0.7, 0.6    |
|               0.96 |            20973            |            20807            |          0          |        66, 77        |     1, 1      |            13649             |            40403            |          0          |       133, 111       |   1.3, 1.5    |                    293                     |             295             |         233         |       946, 989       |    0, 0.1     |                    7683                    |             944             |         169         |      1558, 1593      |   0.4, 0.6    |
|               0.97 |            20543            |            20380            |          0          |       174, 92        |     1, 1      |            12807             |            37917            |          0          |       172, 107       |   1.4, 1.3    |                    315                     |             313             |         193         |      1001, 1028      |     0, 0      |                    8039                    |             953             |         168         |      1690, 1684      |   0.6, 0.4    |
| 0.97 w. GOMEMLIMIT |            19951            |            19795            |          0          |       76, 120        |    0.9, 1     |            13104             |            38794            |          0          |       340, 183       |   1.4, 1.4    |                   11670                    |             325             |         511         |      1869, 1754      |   0.4, 0.5    |                   20937                    |            1011             |         170         |      1694, 1712      |   0.9, 0.9    |
|             0.99.0 |            20724            |            20560            |          0          |        85, 81        |     1, 1      |            13319             |            39434            |          0          |       138, 137       |   1.2, 1.4    |                   11203                    |             298             |         508         |      1716, 1727      |   0.5, 0.5    |                   20666                    |             959             |         170         |      1721, 1695      |   0.9, 0.9    |
|            0.100.0 |            20134            |            19975            |          0          |       216, 71        |    0.9, 1     |            13665             |            40464            |          0          |       294, 296       |   1.3, 1.4    |                   11339                    |             314             |         511         |      1753, 1778      |   0.6, 0.5    |                   22654                    |             884             |         170         |      1671, 1674      |   0.9, 0.8    |
|            0.102.1 |            19914            |            19757            |          0          |        84, 78        |    1.1, 1     |            14407             |            42663            |          0          |       196, 117       |   1.4, 1.4    |                   11891                    |             306             |         511         |      1886, 1803      |   0.6, 0.4    |                   23236                    |             953             |         170         |      1663, 1688      |   0.8, 0.8    |
|      0.102.1 (new) |            21165            |            20999            |          0          |        75, 73        |     1, 1      |            13407             |            39703            |          0          |       147, 162       |   1.4, 1.4    |                   12040                    |             327             |         512         |      1718, 1701      |   0.5, 0.5    |                   22475                    |             904             |         170         |      1605, 1602      |   0.9, 0.9    |
|            0.103.0 |            20140            |            19982            |          0          |        65, 68        |     1, 1      |            12972             |            38400            |          0          |       146, 176       |   1.4, 1.4    |                   10663                    |             288             |         512         |      1707, 1707      |   0.5, 0.5    |                   19154                    |             969             |         170         |      1699, 1701      |     1, 1      |
|            0.104.0 |            19924            |            19766            |          0          |       94, 204        |   1.1, 0.9    |            12343             |            36536            |          0          |       136, 185       |   1.3, 1.4    |                   10761                    |             329             |         512         |      1741, 1738      |   0.5, 0.5    |                   17390                    |             927             |         170         |      1720, 1737      |    0.9, 1     |
|            0.105.0 |            19187            |            19084            |          0          |       268, 96        |     1, 1      |            12292             |            36383            |          0          |       144, 180       |   1.3, 1.4    |                   10846                    |             323             |         511         |      1717, 1699      |   0.5, 0.5    |                   19344                    |             940             |         510         |      1728, 1690      |     1, 1      |
|            0.107.0 |            19876            |            19719            |          0          |       184, 96        |     1, 1      |            11993             |            35504            |          0          |       133, 138       |   1.4, 1.4    |                   10081                    |             360             |         512         |      1734, 1722      |   0.5, 0.5    |                   18184                    |             922             |         510         |      1754, 1698      |    0.9, 1     |
|            0.108.1 |            20175            |            20014            |          0          |       100, 93        |     1, 1      |            12365             |            36603            |          0          |       135, 148       |   1.4, 1.4    |                   10758                    |             332             |         512         |      1722, 1681      |   0.5, 0.5    |                   19163                    |             891             |         510         |      1800, 1757      |     1, 1      |
|            0.109.0 |            18186            |            18043            |          0          |       115, 108       |     1, 1      |            11273             |            33371            |          0          |       274, 169       |   1.4, 1.4    |                    9848                    |             301             |         507         |      1728, 1761      |   0.5, 0.5    |                   18160                    |             919             |         510         |      1801, 1769      |   0.9, 0.9    |
|            0.111.0 |            18459            |            18348            |          0          |       117, 141       |     1, 1      |            11080             |            32859            |          0          |       160, 160       |   1.4, 1.4    |                   11292                    |             315             |         507         |      1726, 1754      |   0.5, 0.5    |                   18012                    |             925             |         510         |      1709, 1679      |   0.9, 0.9    |
|            0.114.0 |            19610            |            19453            |          0          |       127, 125       |     1, 1      |            11256             |            33308            |          0          |       175, 248       |   1.4, 1.4    |                   10608                    |             321             |         511         |      1737, 1735      |   0.5, 0.5    |                   18442                    |             956             |         510         |      1798, 1737      |   0.9, 0.9    |
|            0.115.0 |            18865            |            18718            |          0          |       191, 253       |     1, 1      |            11615             |            34386            |          0          |       275, 167       |   1.4, 1.5    |                   11141                    |             277             |         511         |      1747, 1731      |   0.5, 0.5    |                   18258                    |             880             |         510         |      1741, 1760      |   0.9, 0.9    |
|            0.116.0 |            19693            |            19540            |          0          |       165, 126       |    1.1, 1     |            11388             |            33717            |          0          |       196, 137       |   1.5, 1.4    |                   11215                    |             324             |         510         |      1658, 1738      |   0.5, 0.5    |                   17974                    |             886             |         509         |      1671, 1683      |   0.9, 0.9    |
|            0.118.0 |            19299            |            19148            |          0          |        88, 97        |    1.1, 1     |            11369             |            33659            |          0          |       137, 159       |   1.4, 1.5    |                   10066                    |             296             |         512         |      1551, 1652      |   0.4, 0.4    |                   18852                    |             945             |         510         |      1701, 1688      |   0.9, 0.9    |
|            0.120.0 |            18733            |            18586            |          4          |        99, 91        |    1.1, 1     |            10527             |            31168            |          6          |       144, 144       |   1.3, 1.5    |                   11491                    |             286             |         512         |      1536, 1533      |   0.4, 0.4    |                   19400                    |             873             |         509         |      1523, 1520      |   0.9, 0.9    |
|            0.122.1 |            19279            |            19130            |          1          |       146, 249       |    1.1, 1     |            11747             |            34772            |          8          |       329, 190       |   1.4, 1.4    |                    8550                    |             280             |         506         |      1707, 1648      |   0.3, 0.3    |                   18869                    |             938             |         510         |      1511, 1504      |   0.9, 0.9    |
|            0.123.0 |            19969            |            19814            |          1          |       98, 244        |     1, 1      |            11697             |            34627            |          6          |       244, 166       |   1.4, 1.4    |                    8965                    |             282             |         512         |      1597, 1712      |   0.3, 0.3    |                   19392                    |             975             |         510         |      1565, 1538      |   0.9, 0.9    |
|            0.124.0 |            20002            |            19845            |          2          |       244, 136       |    1, 1.1     |            11621             |            34395            |          6          |       184, 166       |   1.4, 1.5    |                   10770                    |             315             |         512         |      1851, 1635      |   0.4, 0.4    |                   19731                    |             894             |         510         |      1524, 1526      |   0.9, 0.9    |
|            0.126.0 |            20791            |            20630            |          1          |       180, 96        |     1, 1      |            12451             |            36848            |         10          |       279, 193       |   1.5, 1.4    |                   10195                    |             299             |         512         |      1689, 1607      |   0.3, 0.3    |                   22630                    |             986             |         510         |      1565, 1551      |   0.8, 0.8    |
|            0.127.0 |            20521            |            20361            |          0          |        119,94        |      1,1      |            12650             |            37437            |          9          |       158,148        |    1.5,1.4    |                   11384                    |             332             |         512         |      1513,1758       |   0.4, 0.4    |                   22173                    |             895             |         510         |      1515,1511       |    0.8,0.8    |
|            0.128.0 |            21328            |            21160            |          5          |        89,87         |      1,1      |            13314             |            39402            |          3          |       202,183        |    1.4,1.5    |                   11189                    |             304             |         511         |      1592,1633       |   0.4, 0.4    |                   22178                    |             971             |         510         |      1531,1542       |    0.8,0.7    |
|            0.129.0 |            19520            |            19368            |          2          |        143,92        |      1,1      |            13406             |            39673            |         11          |       151,140,       |    1.4,1.4    |                   10298                    |             342             |         512         |      1513,1752       |   0.3, 0.3    |                   25250                    |             939             |         510         |      1513,1538       |    0.8,0.8    |
|            0.130.1 |            20853            |            20690            |          1          |       154,138        |      1,1      |            13109             |            38793            |         14          |       137,141        |    1.4,1.4    |                    9964                    |             344             |         512         |      1497,1545       |    0.3,0.3    |                   23890                    |             913             |         510         |      1532,1557       |    0.8,0.7    |
|            0.132.0 |            20607            |            20449            |          1          |       140, 149       |     1, 1      |            12843             |            38011            |          9          |       169, 145       |   1.4, 1.4    |                   13578                    |             304             |         512         |      1620, 1527      |   0.5, 0.5    |                   23703                    |             955             |         510         |      1508, 1492      |   0.8, 0.8    |


